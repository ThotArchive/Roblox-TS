module.exports = "<div id=\"dialog-container-{{dialogData.id}}\" class=\"dialog-container\" ng-class=\"{'collapsed': dialogLayout.collapsed,'active': dialogLayout.active && dialogData.layoutId !== chatLibrary.chatLayout.focusedLayoutId,'focused': !dialogLayout.collapsed && dialogData.layoutId === chatLibrary.chatLayout.focusedLayoutId}\" ng-controller=\"dialogController\"> <div abuse-report ng-show=\"dialogLayout.currentDialogScreen === 'abuseReportConfirmation'\"></div> <div details ng-show=\"dialogLayout.currentDialogScreen === 'details'\"></div> <div contact-card ng-show=\"dialogLayout.currentDialogScreen === 'contactCard'\"></div> <div class=\"dialog-main\" ng-show=\"dialogLayout.currentDialogScreen === 'default'\"> <div class=\"chat-windows-header dialog-header\" ng-mouseenter=\"updateDialogHeader(true)\" ng-mouseleave=\"updateDialogHeader(false)\" ng-class=\"{'hover': dialogLayout.hoverOnCollapsed}\"> <div class=\"chat-header-label\" ng-click=\"toggleDialogContainer()\"> <span class=\"font-caption-header text-overflow chat-header-title dialog-header-title\"> {{dialogData.name}} </span> </div> <div dialog-header></div> </div> <div id=\"scrollbar_{{dialogData.dialogType}}_{{dialogData.layoutId}}\" class=\"rbx-scrollbar dialog-body\" ng-style=\"dialogLayout.defaultStyle.dialogStyle\" focus-model=\"toggleDialogFocusStatus(true)\" dialog-lazy-load> <ul class=\"dialog-messages\" ng-controller=\"dialogMessagesController\"> <li ng-if=\"dialogLayout.shouldShowOsaContextCard\"> <div osa-context-card></div> </li> <li class=\"dialog-message-container\" ng-repeat=\"message in dialogData.chatMessages | reverse\" ng-class=\"{'message-inbound': message.sender_user_id != chatLibrary.userId && !message.isSystemMessage,'system-message': message.isSystemMessage,'message-cluster-master': message.isClusterMaster}\" ng-if=\"canRenderMessage(message)\" on-finish-render=\"ngRepeatFinished\"> <div class=\"indicated-message\" ng-hide=\"!message.displayTimeStamp\"> <span class=\"font-footer text-muted indicated-message-bubble\">{{message.displayTimeStamp}}</span> </div> <a ng-href=\"{{chatLibrary.friendsDict[message.sender_user_id].profileUrl}}\" ng-hide=\"message.isSystemMessage\" class=\"avatar avatar-headshot-sm dialog-message-avatar-link\"> <span ng-if=\"message.sender_user_id != chatLibrary.userId\" class=\"chat-avatar-headshot\" class-name=\"avatar-card-image dialog-message-avatar\" chat-avatar-headshot user-id=\"{{message.sender_user_id}}\" layout-library=\"chatLibrary.layoutLibrary\"></span> </a> <div class=\"dialog-message-body\"> <div class=\"dialog-message dialog-message-content dialog-triangle\" ng-class=\"{'message-is-sending': message.sendingMessage, 'trusted-comms': isMessageOutgoingTrustedComms(message)}\" ng-hide=\"message.isSystemMessage\" ng-if=\"!message.hasLinkCard && canRenderMessage(message)\"> <span class=\"message-piece font-caption-body text-emphasis\" ng-repeat=\"piece in message.pieces\" ng-bind-html=\"piece.content\"></span> <span ng-show=\"message.canResend\" ng-click=\"resendMessage(message)\" class=\"icon-chat-resend\"></span> </div> <div ng-if=\"message.hasLinkCard\" link-card></div> <div class=\"xsmall text-error dialog-sending\" ng-show=\"message.sendMessageHasError\" ng-bind=\"message.error || ('Message.Error' | translate)\"></div> </div> <div class=\"indicated-message\" system-message></div> </li> <li class=\"dialog-message-container message-inbound typing-indicator\" ng-show=\"dialogLayout.typing.isTypingFromSender\"> <a ng-href=\"{{chatLibrary.friendsDict[dialogLayout.typing.userIds[0]].profileUrl}}\" class=\"avatar avatar-headshot-sm dialog-message-avatar-link\"> <span class=\"chat-avatar-headshot\" class-name=\"avatar-card-image dialog-message-avatar\" chat-avatar-headshot user-id=\"{{dialogLayout.typing.userIds[0]}}\" layout-library=\"chatLibrary.layoutLibrary\"></span> </a> <div class=\"small dialog-message dialog-triangle\"> <span class=\"typing\"></span> </div> </li> </ul> </div> <div class=\"chat-loading loading-top\" ng-show=\"dialogLayout.isChatLoading\"> <span class=\"spinner spinner-sm\" title=\"{{'Label.SpanTitle.Loading' | translate}} ...\"></span> </div> <div class=\"dialog-input-container-disabled chat-unavailable\" ng-if=\"dialogData.isConversationUnavailableWithUser\"> <span>{{ 'Message.ChatUnavailableWithUser' | translate }}</span> <span class=\"dialog-input-disabled-trailing\"> <span class=\"icon-chat-error\"></span> </span> </div> <div class=\"dialog-input-container-disabled chat-timed-out\" ng-if=\"showTimedOutInputBar && !dialogData.isConversationUnavailableWithUser\" ng-click=\"showTimeoutModal()\"> <span>{{ 'Label.ChatDisabled' | translate }}</span> <span class=\"dialog-input-disabled-trailing\"> <span chat-timeout-timer expires-at=\"{{timeoutExpiresAt}}\" on-expiry=\"refreshShowTimedOutInputBar()\"></span> <span class=\"icon-chat-error\"></span> </span> </div> <div class=\"border-top dialog-input-container\" ng-class=\"{'disabled': chatLibrary.chatLayout.errorMaskEnable}\" ng-style=\"dialogLayout.defaultStyle.inputStyle\" ng-if=\"!showTimedOutInputBar && !dialogData.isConversationUnavailableWithUser\"> <textarea id=\"dialog-input\" msd-elastic dialog-input rows=\"1\" focus-me=\"{{dialogLayout.focusMeEnabled && dialogData.layoutId === chatLibrary.chatLayout.focusedLayoutId}}\" placeholder=\"{{'Label.InputPlaceHolder.SendMessage' | translate}}\" ng-model=\"dialogData.messageForSend\" enter-escape-shift=\"keyPressEnter($event)\" ng-keypress=\"typing($event, true)\" ng-blur=\"typing($event, false)\" ng-keyup=\"keyStroke($event, chatLibrary.userId)\" ng-keydown=\"keyStroke($event, chatLibrary.userId)\" class=\"dialog-input\" input-max-length=\"{{dialogLayout.limitCharacterCount}}\" ng-disabled=\"chatLibrary.chatLayout.errorMaskEnable\" ng-style=\"dialogLayout.defaultStyle.inputTextStyle\" hinteractive hinteractive-domain=\"chat\"></textarea> </div> </div> <div places></div> </div> ";